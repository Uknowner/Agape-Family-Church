<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sermon - Agape Family Church</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="sermon_style.css">
</head>
<body>

<header>
    <h1>Sermon Details</h1>
</header>

<main>
    <div id="single-sermon-content" class="sermon-container">
        <!-- Dynamic content will be loaded here -->
    </div>
</main>

<footer>
    <p>&copy; 2025 Agape Family Church. All rights reserved.</p>
    <a href="sermons.html"><i class="fas fa-arrow-left"></i> Back to Sermons</a>
</footer>

<script>
  // Get the sermon ID from the URL
  const params = new URLSearchParams(window.location.search);
  const sermonId = params.get('id');

  // Fetch sermons.json and display the correct sermon
  fetch('sermons.json')
    .then(res => res.json())
    .then(sermons => {
      const sermon = sermons.find(s => s.id == sermonId);
      const container = document.getElementById('single-sermon-content');

      if (sermon) {
        container.innerHTML = `
          <h2>${sermon.title}</h2>
          <div class="sermon-meta">
            ${sermon.date ? `<div><i class="fas fa-calendar-alt"></i> ${new Date(sermon.date).toLocaleDateString()}</div>` : ''}
            ${sermon.speaker ? `<div><i class="fas fa-user"></i> ${sermon.speaker}</div>` : ''}
            ${sermon.duration ? `<div><i class="fas fa-clock"></i> ${sermon.duration}</div>` : ''}
          </div>
          ${sermon.scripture ? `<p><strong>Key Scriptures:</strong> ${sermon.scripture}</p>` : ''}
          <br>
          ${sermon.content ? `<p>${sermon.content}</p>` : ''}`;
            
      } else {
        container.innerHTML = `<p>Sermon not found.</p>`;
      }
    })
    .catch(err => console.error('Error loading sermons:', err));
</script>

</body>
</html>
